<?php 
require_once dirname(__FILE__).'/../html_base.php';
?>
<div class="col-xs-12 report-list ebtw-menu-pull-1">
<div class="line-left report-list-tree">
	<div class="report-years-dropdown">
		<div class="dropdown">
			<a class="dropdown-toggle year-menu-toggle" data-toggle="dropdown">2016 &nbsp;<span class="caret"></span></a>
		   <ul class="dropdown-menu dropdown-menu-right dropdown-menu-small">
		      <li><a tabindex="-1" href="#">2015</a></li>
		      <li><a tabindex="-1" href="#">2016</a></li>		      
		   </ul>
		</div>		
	</div>
	<div id="time_tree_container" class="time_tree_container mCustomScrollbar" data-mcs-theme="minimal-dark">
		<div class="reports-timetree">
			<div class="timetree-month"><div class="timetree-head month active"><span class="j_timetree_spread time-text"><strong>1</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist" style="display: block;"><li class="j_week active"><a class="router" href="#">第<span>1</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>2</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>3</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>4</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>5</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>2</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>6</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>7</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>8</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>9</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>3</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>10</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>11</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>12</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>13</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div><div class="timetree-head season"><span class="time-text">第一季度</span><em class="time-circle"></em></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>4</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>14</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>15</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>16</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>17</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>5</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>18</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>19</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>20</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>21</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>22</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>6</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>23</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>24</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>25</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>26</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div><div class="timetree-head season"><span class="time-text">第二季度</span><em class="time-circle"></em></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>7</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>27</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>28</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>29</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>30</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>31</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>8</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>32</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>33</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>34</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>35</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>9</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>36</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>37</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>38</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>39</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div><div class="timetree-head season"><span class="time-text">第三季度</span><em class="time-circle"></em></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>10</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>40</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>41</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>42</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>43</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>44</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>11</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>45</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>46</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>47</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>48</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div>
			<div class="timetree-month"><div class="timetree-head month"><span class="j_timetree_spread time-text"><strong>12</strong>月</span><span class="j_timetree_spread"><em class="time-circle"></em></span></div><ul class="timetree-weeklist hide" style=""><li class="j_week"><a class="router" href="#">第<span>49</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>50</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>51</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li><li class="j_week"><a class="router" href="#">第<span>52</span>周<em class="arrow-s"></em><em class="arrow-b"></em></a><em class="time-circle"></em></li></ul></div><div class="timetree-head season"><span class="time-text">第四季度</span><em class="time-circle"></em></div><div class="timetree-head endyear"><span class="time-text">2016年度</span><em class="time-circle"></em></div>
		</div>
		<div class="ebtw-clear"></div>
	</div>
</div>
<div class="line-left report-list-wrap">
	<div class="report-list-container-outer">
		<div class="report-list-container-title form-inline">
			<div class="form-group t-bold">测试用户的第13周工作报告(03-21~03-27)</div>
			<!-- &nbsp;&nbsp;<div class="form-group t-light">最后提交于2016-03-21 18:35:19</div> -->
		</div>
		<div class="row-blank"></div>
		<div class="report-list-container mCustomScrollbar" data-mcs-theme="minimal-dark">
		<div class="report-list-row" data-ptrid="100">
			<div class="form-inline report-list-item">
				<div class="form-group content-box ebtw-top-no-border"> <!-- ebtw-top-no-border 第一个元素取消上边框线 -->
					<div class="content-box-toolbar">
						<div class="form-group content-box-toolbar-title"><span>2015‐12‐27</span></div>
						<div class="form-group content-box-toolbar-btn"><span class="glyphicon glyphicon-fullscreen" title="编辑详细" onclick="dailyEdit();"></span></div>					
						<div class="form-group content-box-toolbar-btn"><span class="glyphicon glyphicon-floppy-disk" title="保存"></span></div>
						<div class="ebtw-clear"></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-name">已完成工作</div>
						<div class="content-box-attr-content-ex"><textarea placeholder="填写当天已完成工作内容，回车换行"></textarea><span class="required-mark">&nbsp;*</span></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-name">未完成工作</div>
						<div class="content-box-attr-content-ex"><textarea placeholder="填写当天未完成工作内容，回车换行"></textarea></div>
					</div>
				    <!-- 分隔线 -->
					<div class="div-divide-all">
						<div class="divide-line-all"></div>
					</div>
		            
		            <div class="content-box-row">
		            	<div class="content-box-attr-name middle">评阅人</div>
			            <div class="content-box-attr-content">
				            <select class="form-control side-select">
				                <option value="">--选择评阅人--</option>
				                <option value="1">陈一</option>
				                <option value="2">李二</option>
				                <option value="3">张三</option>
				            </select>
			            </div>
	            	</div>
				    <!-- 分隔线 -->
					<div class="div-divide-all">
						<div class="divide-line-all"></div>
					</div>
					
					<div class="content-box-row">
	            	    <div class="ebtw-file-upload ebtw-color-primary">
	                        <div id="file_upload" class="webuploader-container"><div class="webuploader-pick">上传附件</div></div>            	    	
	                        <span class="glyphicon glyphicon-paperclip"></span>
	                        <div class="ebtw-clear"></div>
	                    </div>
	                </div>
				</div>
			</div>
		</div>
		
		<div class="report-list-row">
			<div class="report-list-subtotal">2015‐12‐26（员工10人，2人未提交报告）</div>
		</div>
		
		<div class="report-list-row" data-ptrid="101">
			<div class="form-inline report-list-item">
				<div class="form-group content-box">
					<div class="content-box-toolbar">
						<div class="form-group content-box-toolbar-title"><span>杨宏展 2015‐12‐26</span></div>
						<div class="form-group content-box-toolbar-btn"><span class="glyphicon glyphicon-fullscreen" title="编辑详细" onclick="dailyView();"></span></div>					
						<div class="form-group content-box-toolbar-btn"><span class="glyphicon glyphicon-floppy-disk" title="保存"></span></div>
						<div class="ebtw-clear"></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-name">已完成工作</div>
						<div class="content-box-attr-content-ex"><div class="static-text">所有主流浏览器均支持 :nth-child() 选择器,除了 IE8 及更早的版本。定义和用法 :nth-child(n) 选择器匹配属于其父元素的第 N 个子元素,不论元素的类型。.</div></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-name">未完成工作</div>
						<div class="content-box-attr-content-ex"><div class="static-text">或其它可以实现相同功能的方法。 (我知道有table可以做到) 更多 分享到: 对我</div></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-notice">2015‐12‐27 22:00:00 &nbsp;<span>逾期提交</span></div>
					</div>				
				    <!-- 分隔线 -->
					<div class="div-divide-all">
						<div class="divide-line-all"></div>
					</div>
		            
		            <div class="content-box-row">
		            	<div class="content-box-attr-name">评阅人</div>
			            <div class="content-box-attr-content"><div class="static-text">张三细</div>&nbsp;&nbsp;<div class="static-text ebtw-color-primary">评阅已阅</div></div>
	            	</div>
				    <!-- 分隔线 -->
					<div class="div-divide-all">
						<div class="divide-line-all"></div>
					</div>
					
					<div class="content-box-row">
						<div class="col-xs-12 content-box-tab onlyview">
							<div class="content-box-tab-head">全部(<span>210</span>)</div>
							<div class="content-box-tab-head">日志(<span>9</span>)</div>
							<div class="content-box-tab-head">任务(<span>122</span>)</div>
							<div class="content-box-tab-head">动态(<span>3</span>)</div>
							<div class="content-box-tab-head">附件(<span>1</span>)</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="report-list-row">
			<div class="form-inline report-list-item">
				<div class="form-group content-box">
					<div class="content-box-toolbar">
						<div class="form-group content-box-toolbar-title"><span>李某 2015‐12‐26</span></div>
						<div class="ebtw-clear"></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-absent">报告未填写</div>
					</div>			
			
				</div>
			</div>
		</div>
		<div class="report-list-row">
			<div class="form-inline report-list-item">
				<div class="form-group content-box">
					<div class="content-box-toolbar">
						<div class="form-group content-box-toolbar-title"><span>张某 2015‐12‐26</span></div>
						<div class="ebtw-clear"></div>
					</div>
					<div class="content-box-row">
						<div class="content-box-attr-absent">报告未填写</div>
					</div>			
			
				</div>
			</div>
		</div>
		</div>
		<div class="ebtw-clear"></div>
	</div>
</div>
</div>

<script type="text/javascript">
//查看详细
function dailyView() {
	var param = {view_mode:'v'}; //查看模式
	showSidepage(getServerUrl() + "report/sidepage_report.php", param);
}

//编辑详细
function dailyEdit(date) {
	var param = {view_mode:'e'}; //编辑模式
	if (date != undefined)
		param.date = date;
	
	showSidepage(getServerUrl() + "report/sidepage_report.php", param);
}

$(document).ready(function() {
	//启动鼠标悬停弹出下拉菜单
	$('.year-menu-toggle').dropdownHover();
	//下拉框美化
	$(".side-select").select2({
	  width:'150px',
	  theme: "default",
	  minimumResultsForSearch: Infinity
	});
	
	//textarea自适应高度
	$('.content-box-attr-content-ex>textarea').autoHeight();
	
	//tab标签初始化
	$('.content-box-tab.onlyview .content-box-tab-head').click(function() {
		dailyEdit();
	});
	
	//设置列表区域最大高度
	adjustContainerHeight('report-list-container', 73);
	//设置时间轴区域最大高度
	adjustContainerHeight2('.time_tree_container', 130, 'report_list_time_tree');
	
	//自定义滚动条
	customScrollbar(".time_tree_container, .report-list-container");	
	
	//content-box自适应宽度
	var $elements = $('.report-list-item .content-box');
	var leftWidth = $('.report-list-tree').width();
	$elements.css('width', $('.report-list').width()-leftWidth-30);
	$(window).resize(function(e){
		$elements.css('width', $('.report-list').width()-leftWidth-30);
	});
		
	//隐藏非激活时间点
	function hideNoactiveTimePoint() {
		$('.reports-timetree .j_week'/*.active*/).removeClass('active').parent().addClass('hide').css('display', 'none');
		$('.reports-timetree .month'/*.active*/).removeClass('active');//.next().find('.j_week.active').removeClass('active').parent().addClass('hide').css('display', 'none');
		$('.reports-timetree .season').removeClass('active');
		$('.reports-timetree .endyear').removeClass('active');
	}

	//注册事件-点击时间轴(周)
	$('.reports-timetree .router, .reports-timetree .j_week .time-circle').click(function() {
		//隐藏非激活时间点
		hideNoactiveTimePoint();
		//显示激活周
		$(this).parent().addClass('active').parent().removeClass('hide').css('display', 'block');
	});
	
	//注册事件-点击时间轴(月)
	$('.reports-timetree .month .time-text, .reports-timetree .month .time-circle').click(function() {
		if (!$(this).parents('.month').hasClass('active')) {
			//隐藏非激活时间点
			hideNoactiveTimePoint();
			//显示当前选择月为激活
			$(this).parents('.month').addClass('active').next().removeClass('hide').css('display', 'block');//.children().first().addClass('active');
		}
	});
	
	//注册事件-点击时间轴(季度)
	$('.reports-timetree .season .time-text, .reports-timetree .season .time-circle').click(function() {
		if (!$(this).parents('.season').hasClass('active')) {
			//隐藏非激活时间点`
			hideNoactiveTimePoint();
			//显示当前选择季度为激活
			$(this).parents('.season').addClass('active');
		}
	});

	//注册事件-点击时间轴(季度)
	$('.reports-timetree .endyear .time-text, .reports-timetree .endyear .time-circle').click(function() {
		if (!$(this).parents('.endyear').hasClass('active')) {
			//隐藏非激活时间点
			hideNoactiveTimePoint();
			//显示当前选择年为激活
			$(this).parents('.endyear').addClass('active');
		}
	});
	
});
</script>